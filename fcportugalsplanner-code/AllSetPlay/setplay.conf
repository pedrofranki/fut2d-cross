(setplay :name goalieCatch_TESTE_opcoes_fabro_1 :id 1 :invertible true
	 :version splanner_1.0
	 :comment (  Teste de opcoes 1  ) 
	 :players
		(list
			(playerRole :roleName Goalie)
			(playerRole :roleName LeftDefender)
			(playerRole :roleName LeftMidfielder)
			(playerRole :roleName LeftForward)
		) 
	 :abortCond (or (bowner :players  (list (player :team opp :number 1) (player :team opp :number 2) (player :team opp :number 3) (player :team opp :number 4) (player :team opp :number 5) (player :team opp :number 6) (player :team opp :number 7) (player :team opp :number 8) (player :team opp :number 9) (player :team opp :number 10) (player :team opp :number 11) )) (and (not (playm play_on)) (not (playm gc_our))))
	 :steps
		(seq
			(step :id 0 :waitTime 30 :abortTime 100
				 :participants
					(list
						(playerRole :roleName Goalie)
						(at (playerRole :roleName LeftDefender) (pt :x -32.5 :y -20))
						(at (playerRole :roleName LeftMidfielder) (pt :x -21 :y -20))
						(at (playerRole :roleName LeftForward) (pt :x -11 :y -20))
					)
				 :condition (playm gc_our)
				 :leadPlayer (playerRole :roleName Goalie)
				 :transitions
					(list 
						(nextStep :id 1
							 :directives
								(list
									(do 	:players (list (playerRole :roleName Goalie) )
										:actions (list (pos :region (pt :x -47 :y -17)) )
									)
									(do 	:players (list (playerRole :roleName LeftDefender) )
										:actions (list (pos :region (pt :x -40 :y -24)) )
									)

								)
						)
					)
			)
			(step :id 1 :waitTime 10 :abortTime 100
				 :participants
					(list
						(at (playerRole :roleName Goalie) (pt :x -47 :y -17))
						(at (playerRole :roleName LeftDefender) (pt :x -40 :y -24))
						(at (playerRole :roleName LeftMidfielder) (pt :x -21 :y -20))
						(at (playerRole :roleName LeftForward) (pt :x -11 :y -20))
					)
				 :condition (and (playm gc_our) (bowner :players  (list (playerRole :roleName Goalie) )))
				 :leadPlayer (playerRole :roleName Goalie)
				 :transitions
					(list 
						(nextStep :id 2
							 :condition (canPassPl :from  (list (playerRole :roleName Goalie) ) :to (list (playerRole :roleName LeftDefender) ))
							 :directives
								(list
									(do 	:players (list (playerRole :roleName Goalie) )
										:actions (list (bto :players (list (playerRole :roleName LeftDefender) ) :type normal) )
									)
									(do 	:players (list (playerRole :roleName LeftDefender) )
										:actions (list (intercept) )
									)
									(do 	:players (list (playerRole :roleName LeftMidfielder) )
										:actions (list (pos :region (pt :x -21.5 :y -28)) )
									)
									(do 	:players (list (playerRole :roleName LeftForward) )
										:actions (list (pos :region (pt :x -15 :y -12.5)) )
									)

								)
						)
					)
			)
			(step :id 2 :waitTime 5 :abortTime 100
				 :participants
					(list
						(at (playerRole :roleName LeftDefender) (pt :x -40 :y -24))
						(at (playerRole :roleName LeftMidfielder) (pt :x -21.5 :y -28))
						(at (playerRole :roleName LeftForward) (pt :x -15 :y -12.5))
					)
				 :condition (and (playm play_on) (bowner :players  (list (playerRole :roleName LeftDefender) )))
				 :leadPlayer (playerRole :roleName LeftDefender)
				 :transitions
					(list 
						(nextStep :id 3
							 :condition (canPassPl :from  (list (playerRole :roleName LeftDefender) ) :to (list (playerRole :roleName LeftMidfielder) ))
							 :directives
								(list
									(do 	:players (list (playerRole :roleName LeftDefender) )
										:actions (list (bto :players (list (playerRole :roleName LeftMidfielder) ) :type normal) )
									)
									(do 	:players (list (playerRole :roleName LeftMidfielder) )
										:actions (list (intercept) )
									)

								)
						)
						(nextStep :id 4
							 :condition (canPassPl :from  (list (playerRole :roleName LeftDefender) ) :to (list (playerRole :roleName LeftForward) ))
							 :directives
								(list
									(do 	:players (list (playerRole :roleName LeftDefender) )
										:actions (list (bto :region (pt :x -9.5 :y -17.5)) )
									)
									(do 	:players (list (playerRole :roleName LeftForward) )
										:actions (list (intercept) )
									)

								)
						)
					)
			)
			(step :id 3 :waitTime 5 :abortTime 150
				 :participants
					(list
						(at (playerRole :roleName Goalie) (pt :x -47 :y -17))
					)
				 :condition (playm play_on)
				 :leadPlayer (playerRole :roleName LeftMidfielder)
				 :transitions
					(list 
						(finish :directives (list))
					)
			)
			(step :id 4 :waitTime 5 :abortTime 150
				 :participants
					(list
						(at (playerRole :roleName Goalie) (pt :x -47 :y -17))
					)
				 :condition (playm play_on)
				 :leadPlayer (playerRole :roleName LeftForward)
				 :transitions
					(list 
						(finish :directives (list))
					)
			)
		)
)
